<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Termo de Ciência e Responsabilidade – Trilheiros de Rondonópolis</title>
<style>
body { font-family: Arial, sans-serif; background:#0b0b0b; color:#fff; padding:20px; text-align:center; }
h1 { color:#fff; }
.box { max-width:700px; margin:auto; background:#151515; padding:20px; border-radius:10px; text-align:left; }
input, textarea { padding:10px; margin:5px 0; width:100%; border-radius:6px; border:none; }
button { padding:12px 20px; border:none; border-radius:8px; font-weight:bold; cursor:pointer; margin-top:10px; background:#25D366; color:#fff; }
button:disabled { background:#444; color:#999; cursor:not-allowed; }
.status { margin-top:10px; font-weight:bold; }
label { display:block; margin-top:10px; }
</style>
</head>
<body>

<div class="box">
<h1>Termo de Ciência e Responsabilidade – Trilha Morro da Mesa</h1>
<p><strong>Data do passeio:</strong> 23 de novembro</p>
<p>Leia com atenção as informações abaixo sobre os riscos, nível de dificuldade e regras do passeio. Ao preencher este formulário, você declara que está ciente, concorda e assume total responsabilidade pela sua participação.</p>

<ul>
<li>O percurso tem nível médio a avançado, com trechos íngremes e escorregadios.</li>
<li>É obrigatório o uso de calçados adequados, água, protetor solar e roupas confortáveis.</li>
<li>É proibido o uso de caixas de som para preservar o ambiente.</li>
<li>O participante deve respeitar a natureza, não deixar lixo e seguir as orientações do guia.</li>
<li>A organização não se responsabiliza por acidentes causados por imprudência ou desrespeito às regras.</li>
<li>Em caso de condições climáticas adversas, o passeio poderá ser cancelado ou adiado.</li>
<li>É indispensável estar em boas condições de saúde para participar da trilha.</li>
<li>Pessoas com problemas cardíacos, respiratórios, mobilidade reduzida ou histórico de desmaios/síncopes não são orientadas a realizar esta atividade.</li>
<li>Participantes sedentários ou sem preparo físico devem avaliar cuidadosamente os riscos antes de confirmar presença.</li>
<li>Crianças menores de 14 anos não serão permitidas.</li>
</ul>

<form id="termoForm">
<label>Nome completo:</label>
<input type="text" id="nome" placeholder="Digite seu nome completo" required>

<label>WhatsApp:</label>
<input type="text" id="whatsapp" placeholder="Digite seu WhatsApp (ex: 5599999999999)" required>

<div>
<input type="checkbox" id="aceite"> Eu, abaixo assinado, declaro que participarei da trilha/passeio por minha livre e espontânea vontade, estou ciente dos riscos envolvidos e isento os organizadores de qualquer responsabilidade por acidentes decorrentes da atividade, exceto nos casos de comprovada negligência. Declaro também que estou em condições físicas adequadas para a prática da atividade.
</div><br>

<button type="submit" id="entrarBtn" disabled>Enviar e Entrar no Grupo</button>
</form>

<p class="status" id="status">Verificando vagas disponíveis...</p>

</div>

<script>
const JOIN_LINK = "https://chat.whatsapp.com/GOReIoh8N0ZCa4pQh2IMy7";
const MAX_PARTICIPANTES = 75;
let totalParticipantes = 0;

const nomeInput = document.getElementById("nome");
const whatsappInput = document.getElementById("whatsapp");
const aceiteCheckbox = document.getElementById("aceite");
const entrarBtn = document.getElementById("entrarBtn");
const statusEl = document.getElementById("status");

function atualizarStatus() {
    const restantes = MAX_PARTICIPANTES - totalParticipantes;
    if(restantes > 0){
        statusEl.textContent = `${restantes} vagas restantes para entrar no grupo.`;
        entrarBtn.disabled = !aceiteCheckbox.checked;
    } else {
        statusEl.textContent = "Limite de participantes atingido. Grupo fechado.";
        entrarBtn.disabled = true;
    }
}

aceiteCheckbox.addEventListener("change", atualizarStatus);

document.getElementById("termoForm").addEventListener("submit", e => {
    e.preventDefault();
    if(!aceiteCheckbox.checked){ alert("Aceite o termo de responsabilidade."); return; }
    const nome = nomeInput.value.trim();
    const whatsapp = whatsappInput.value.trim();
    if(!nome || !whatsapp){ alert("Preencha todos os campos."); return; }
    
    totalParticipantes++;
    atualizarStatus();

    // Cria link do WhatsApp com mensagem automática
    const msg = encodeURIComponent(`Olá, meu nome é ${nome}. Aceitei o termo de responsabilidade para a trilha Morro da Mesa em 23/11. Quero participar da trilha.`);
    window.open(`https://wa.me/${whatsapp}?text=${msg}`, "_blank");

    nomeInput.value = "";
    whatsappInput.value = "";
    aceiteCheckbox.checked = false;
});

atualizarStatus();
</script>

</body>
</html>
