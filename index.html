<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trilha Morro da Mesa - Termo</title>

<!-- Firebase compat√≠vel (FUNCIONA) -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #0b0b0b;
    color: #fff;
  }

  .topo {
    text-align: center;
    padding: 20px;
    background: #111;
  }

  .logo {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    cursor: pointer;
  }

  h1 {
    margin: 10px 0 5px;
  }

  h2 {
    color: #ccc;
    margin: 0;
  }

  .alerta {
    background: #b30000;
    padding: 12px;
    margin: 15px;
    border-radius: 10px;
    text-align: center;
  }

  .box {
    background: #161616;
    margin: 15px;
    padding: 18px;
    border-radius: 10px;
  }

  .aceite-area {
    margin: 20px;
  }

  input[type="checkbox"] {
    transform: scale(1.3);
    margin-right: 10px;
  }

  input[type="text"] {
    width: 100%;
    padding: 14px;
    border-radius: 10px;
    border: none;
    background: #222;
    color: #fff;
  }

  button {
    width: 90%;
    display: block;
    padding: 15px;
    margin: 20px auto;
    border-radius: 12px;
    border: none;
    background: #28a745;
    color: #fff;
    font-size: 20px;
    font-weight: bold;
  }

  .sucesso {
    margin: 20px;
    background: #155724;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
    color: #d4edda;
  }

</style>
</head>

<body>

<div class="topo">
  <img src="https://i.imgur.com/MwHr761.png" class="logo" onclick="window.location.href='painel.html'">
  <h1>Trilha Morro da Mesa</h1>
  <h2>30 de Novembro</h2>
</div>

<div class="alerta">
  ‚ö† ESTE PASSEIO √â EM GRUPO ‚Äî VAMOS TODOS JUNTOS!
</div>

<div class="box">
  <h3>üìÑ Termo de Responsabilidade</h3>
  <p>
    ‚Ä¢ N√≠vel m√©dio a avan√ßado, com trechos √≠ngremes e escorregadios.<br><br>
    ‚Ä¢ Obrigat√≥rio cal√ßado adequado, √°gua e protetor solar.<br><br>
    ‚Ä¢ Proibido bebidas alco√≥licas, energ√©ticos e caixas de som.<br><br>
    ‚Ä¢ Proibido se afastar do grupo.<br><br>
    ‚Ä¢ N√£o deixe lixo.<br><br>
    ‚Ä¢ Passeio pode ser adiado por clima.<br><br>
    ‚Ä¢ Menores de 14 n√£o podem participar.
  </p>
</div>

<div class="aceite-area">
  <label><input type="checkbox" id="aceito"> Li e aceito o termo.</label>
</div>

<div class="aceite-area">
  <input type="text" id="nome" placeholder="Digite seu nome completo">
</div>

<button onclick="salvar()">Confirmar Presen√ßa</button>

<div id="msg"></div>

<script>
// CONFIG DO FIREBASE
const firebaseConfig = {
  apiKey: "AIzaSyCJJI6pWI7ENDfmbYwGMbh8SHnlB6QQOHk",
  authDomain: "trilha-morro-da-mesa-cd2fe.firebaseapp.com",
  databaseURL: "https://trilha-morro-da-mesa-cd2fe-default-rtdb.firebaseio.com",
  projectId: "trilha-morro-da-mesa-cd2fe",
  storageBucket: "trilha-morro-da-mesa-cd2fe.firebasestorage.app",
  messagingSenderId: "826498874996",
  appId: "1:826498874996:web:007837e92c11ee4ef4db21",
  measurementId: "G-KTHERDDMWD"
};

// INICIALIZA
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// SALVAR NOME
function salvar() {
  const nome = document.getElementById("nome").value.trim();
  const aceito = document.getElementById("aceito").checked;

  if (!aceito) {
    alert("Voc√™ precisa aceitar o termo.");
    return;
  }

  if (nome === "") {
    alert("Digite seu nome.");
    return;
  }

  db.ref("confirmados").push(nome);

  document.getElementById("msg").innerHTML =
    `<div class="sucesso">‚úî Presen√ßa confirmada!</div>`;

  document.getElementById("nome").value = "";
  document.getElementById("aceito").checked = false;
}
</script>

</body>
</html>
