<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MORRO DA MESA 23 DE NOVEMBRO</title>

    <style>
    /* ---------------------------------------------------- */
    /* TIPOGRAFIA, CORES E LAYOUT GLOBAL (MOBILE FIRST) */
    /* ---------------------------------------------------- */
    body {
        font-family: 'Roboto', Arial, sans-serif;
        padding: 1rem; 
        background: #121212; 
        color: #e0e0e0; 
        line-height: 1.6; 
        margin: 0;
    }

    .box {
        background: #1e1e1e;
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
        max-width: 500px; /* Mantém a largura máxima para tablets/desktops */
        margin: 1rem auto;
        border: 1px solid #333;
    }

    /* ---------------------------------------------------- */
    /* TÍTULOS E SEÇÕES */
    /* ---------------------------------------------------- */
    h1 {
        font-size: 1.9rem;
        margin-bottom: 0.1rem;
        color: #4CAF50;
        font-weight: 700;
    }

    h2 {
        font-size: 1.1rem;
        margin-bottom: 1.5rem;
        color: #b0b0b0;
        font-weight: 400;
    }

    /* ---------------------------------------------------- */
    /* COMPONENTES DE INTERAÇÃO */
    /* ---------------------------------------------------- */
    /* Área de texto de responsabilidade */
    textarea {
        width: 100%;
        height: 12rem;
        margin-bottom: 1.5rem;
        padding: 0.9rem;
        resize: none;
        font-size: 0.9rem;
        line-height: 1.7;
        background-color: #2b2b2b;
        color: #e0e0e0;
        border: none;
        border-radius: 8px;
        box-shadow: inset 0 1px 3px rgba(0,0,0,0.5);
    }

    /* Labels */
    label {
        display: block;
        margin-bottom: 0.5rem;
        font-size: 0.95rem;
        font-weight: 500;
    }

    /* Inputs de texto e checkbox */
    input[type="text"] {
        width: 100%;
        padding: 1rem;
        margin: 0.3rem 0 1.5rem 0;
        font-size: 1rem;
        box-sizing: border-box;
        background-color: #2b2b2b;
        color: #e0e0e0;
        border: 1px solid #444;
        border-radius: 8px;
        transition: border-color 0.3s;
    }
    input[type="text"]:focus {
        border-color: #4CAF50;
        outline: none;
    }

    /* Checkbox */
    input[type="checkbox"] {
        margin-right: 0.6rem;
        transform: scale(1.15);
        vertical-align: middle;
    }

    /* ---------------------------------------------------- */
    /* BOTÃO E FEEDBACK */
    /* ---------------------------------------------------- */
    button {
        width: 100%;
        padding: 1.1rem;
        margin-top: 1rem;
        font-size: 1.05rem;
        font-weight: bold;
        background-color: #25D366;
        color: #1a1a1a;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: background-color 0.3s ease, opacity 0.3s ease;
    }

    button:hover:not(:disabled) {
        background-color: #1FAF54;
        box-shadow: 0 4px 10px rgba(37, 211, 102, 0.4);
    }

    button:disabled {
        background-color: #383838;
        color: #888;
        cursor: not-allowed;
    }

    /* Contador de vagas */
    #vagasInfo {
        text-align: center;
        margin-bottom: 1.5rem;
        font-size: 1.1rem;
        font-weight: bold;
        color: #4CAF50;
        padding: 0.75rem;
        border: 2px solid #4CAF50;
        border-radius: 8px;
        background-color: #2b2b2b;
    }

    /* Mensagem de Lotado e Erro */
    #alertaLotado {
        font-size: 1.1rem;
        padding: 1rem;
        background-color: #d32f2f;
        color: white;
        border-radius: 8px;
        text-align: center;
        margin-bottom: 1.5rem;
        font-weight: bold;
    }

    #mensagemErro {
        margin-top: 1rem;
        font-size: 0.95rem;
        color: #ff8a80;
        text-align: center;
    }
    </style>
</head>
<body>

<div class="box">
    <h1>MORRO DA MESA 23 DE NOVEMBRO</h1>
    <h2>Trilheiros de Rondonópolis</h2>

    <div id="vagasInfo">
        Vagas disponíveis: <span id="vagasRestantes">75</span> / 75
    </div>
    
    <div id="alertaLotado" style="display:none;">⚠️ Grupo lotado! As 75 vagas foram preenchidas.</div>

    <textarea readonly>
- O percurso tem nível médio a avançado, com trechos íngremes e escorregadios.
- É obrigatório o uso de calçados adequados, água, protetor solar e roupas confortáveis.
- É proibido o uso de caixas de som para preservar o ambiente.
- O participante deve respeitar a natureza, não deixar lixo e seguir as orientações do guia.
- A organização não se responsabiliza por acidentes causados por imprudência ou desrespeito às regras.
- Em caso de condições climáticas adversas, o passeio poderá ser cancelado ou adiado.
- É indispensável estar em boas condições de saúde para participar da trilha.
- Pessoas com problemas cardíacos, respiratórios, mobilidade reduzida ou com histórico de desmaios/síncopes não são orientadas a realizar esta atividade.
- Participantes sedentários ou sem preparo físico devem avaliar cuidadosamente os riscos antes de confirmar presença.
- Crianças menores de 14 anos não serão permitidas.
    </textarea>

    <label for="nome">Nome completo</label>
    <input type="text" id="nome" placeholder="Digite seu nome completo">

    <label>
        <input type="checkbox" id="aceite"> Confirmo que li e aceito o termo de responsabilidade
    </label>

    <button id="entrarBtn" disabled>
        Entrar no grupo do WhatsApp
    </button>

    <div id="mensagemErro"></div>
</div>

<script>
    // Capacidade máxima do grupo
    const MAX_VAGAS = 75;
    let vagasDisponiveis = MAX_VAGAS; 
    
    // ** ATENÇÃO: COLOQUE SEU LINK DO GRUPO DO WHATSAPP AQUI **
    const LINK_WHATSAPP = 'https://chat.whatsapp.com/SEULINKDECONVITE'; 

    // Referências aos elementos do DOM
    const nomeInput = document.getElementById('nome');
    const aceiteCheckbox = document.getElementById('aceite');
    const entrarBtn = document.getElementById('entrarBtn');
    const mensagemErro = document.getElementById('mensagemErro');
    const alertaLotado = document.getElementById('alertaLotado');
    const vagasRestantesSpan = document.getElementById('vagasRestantes');
    const vagasInfoDiv = document.getElementById('vagasInfo');

    function checkInputs() {
        const nomeValido = nomeInput.value.trim() !== '';
        const aceiteValido = aceiteCheckbox.checked;

        if (nomeValido && aceiteValido && vagasDisponiveis > 0) {
            entrarBtn.disabled = false;
        } else {
            entrarBtn.disabled = true;
        }
    }

    function atualizarContador() {
        vagasRestantesSpan.textContent = vagasDisponiveis;
        
        if (vagasDisponiveis <= 0) {
            entrarBtn.style.display = 'none';
            alertaLotado.style.display = 'block';
            vagasInfoDiv.style.display = 'none';
            mensagemErro.textContent = '';
        }
    }

    function handleRegistro(event) {
        event.preventDefault();

        if (vagasDisponiveis <= 0) {
            return;
        }

        // 1. Decrementa o contador
        vagasDisponiveis--;
        
        // 2. Atualiza a tela
        atualizarContador();
        
        // 3. Redireciona para o WhatsApp
        window.location.href = LINK_WHATSAPP;

        // 4. Limpa e reseta
        nomeInput.value = '';
        aceiteCheckbox.checked = false;
        checkInputs();
    }
    
    nomeInput.addEventListener('input', checkInputs);
    aceiteCheckbox.addEventListener('change', checkInputs);
    entrarBtn.addEventListener('click', handleRegistro);
    
    atualizarContador();
    checkInputs();
</script>

</body>
</html>
